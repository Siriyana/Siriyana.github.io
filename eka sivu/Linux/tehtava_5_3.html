<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tehtävä 5.3.</title>
    <link rel="stylesheet" href="linux.css">
</head>
<body>
    <header>Linux-peruskurssi <img src="pingviini.png"></header>
    <h1>Veeran kurssitehtävät 5.3.</h1>

    <main>
        <h1>Salasanojen murtaminen</h1>
        <article>
            <h2>Salasanojen murtaminen raakaa laskentaa käyttäen</h2>
            <ol>
                <li>
                    <h3>Kolme uutta käyttäjää: heikko, keski ja vahva ja nimiä vastaavat salasanat.</h3>
                    <figure><img src="5_3_creating_users.png"></figure>
                </li>
                <li>
                    <h3>Luotujen käyttäjätunnusten murtaminen</h3>
                    <p>Kokeiltu John The Ripper ja komentoa john /etc/shadow, mutta tämä ei toiminut.</p>
                    <p>Manuaalisesti avasin /etc/shadow ja siellä näkyi kaikkien (heikko, keski, vahva ja super) käyttäjien tiedot ja hashit</p>
                    <figure><img src="5_3_user_hashes_.png"></figure>
                    <p>Googlailu kertoi että kyseinen hash-muoto on yescrypt ($y$) ja esim. että John The Ripper tukee vain epäsuorasti yescryptiä https://security.stackexchange.com/questions/252665/does-john-the-ripper-not-support-yescrypt </p>
                    <p>Tämän jälkeen onnistui. Heikon salasanan ohjelma mursi heti. Sen jälkeen näytti, että John The Ripper päätti ottaa käyttöön sanalistan (Proceeding with wordlist)...</p>
                    <figure><img src="5_3_john_the_ripper.png"></figure>
                    <p>Mutta mun koneeni (tai siis virtuaalikone) ei ole ilmeisesti hakkerointiin soveltuva, sillä se rullaa hyvin hitaasti ja vaikka jätin yöksi päälle, niin se ei saanut siinäkään ajassa ratkottua muita.</p>
                    <p>Jäin miettimään, että voisiko graafinen versio toimia paremmin ja latasin koneelle Johnnyn ja tallensin luomieni käyttäjien tiedot omaan tiedostoon, niin ohjelma ei myös yrittäisi ratkoa omaa salasanaani.</p>
                    <p>Johnny oli teoriassa helppo käyttää, mutta siinäkin törmäsin ongelmaan: ettei hashiä ole ladattu, vaikak selkeästi Johnnyn password sivulla näkyy se, että on osannut erotella käyttäjät, hashin ja muut...</p>
                    <figure><img src="5_3_johnny.png"></figure>
                    <figure><img src="5_3_johnny_works_neither.png"></figure>
                    <p>Eli takaisin komentorivikäskyihin. Heikko murtuu parissa sekunnissa, mutta muut eivät. Laskeskelin https://www.security.org/how-secure-is-my-password/ sivuston avulla miten kauan pitäisi kestää murtaminen: (heikko 400 nanosekuntia, keski 22 millisekuntia, vahva 800 mikrosekuntia (vahva oli itseasiassa lyhyempi kuin keski, minkä vuoksi nopeampi purkaa erikoismerkistä huolimatta...) ja superin murtamisessa menisi 6kk (eli ei tämän kurssin aikana)</p>
                    <p>Kun laskeskelin, että jos heikon murtamiseen meni mun koneella pari sekuntia, niin keski murtamiseen menee 55000 kertaa kauemmin, eli mun koneella 15-30 tuntia (55000 * 1s = noin 15 tuntia ja 55000 * 2s = noin 30 tuntia)  </p>
                    <p>Yritin kokeilla myös HashCat-ohjelmalla, mutta siinä tuli samoja ongelmia ja vaikka yritin netistä ja tekoälyn avulla, niin en onnistunut. Ilmeisesti Hashtype-numero olisi 2100 (tekoälyn ehdottama, ei löytynyt manuaalista ja googlesta tulleet ehdotukset, esim. 1800 vain herjasi, että token length exception ja <i>  This error happens if the wrong hash type is specified, if the hashes are
                        malformed, or if input is otherwise not as expected (for example, if the
                        --username option is used but no username is present)
                      
                      </i> </p>
                    <figure><img src="5_3_Haschcat_failed.png"></figure>
                    <p>Vaihdettu virtuaali Kalin salasana-asetuksia niin, että salasanat suojataan SHA512 avulla yescryptin sijaan. Salasanat piti vaihtaa, jotta cryptaus tapa muuttui. Tämäm jälkeen salasanojen cryptaus oli SHA512-muodossa.</p>
                    <figure><img src="5_3_change_crypt_mode.png"><img src="5_3_SHA512.png"></figure>
                    <p>Ainakin graafinen Johnnyt-versio toimii nyt!</p>
                    <figure><img src="5_3_atleast_johnny_works.png"></figure>
                </li>


            </ol>
        </article>

        <article>
            <h2>Salasanan murtaminen sanakirjojen ja sateenkaaritaulukoiden avulla</h2>
            <ol>
                <li>
                    <h3>Suomi-salasanalista</h3>
                    <p>Aloitin Kali Linuxilla, mutta ilmeisesti virtuaalikoneellani ei vaan ole tarpeeksi suoritintehoja. Siirryin käyttämään windowisin command promptiin asennttua ubuntua, jos sillä onnistuisi ja olisi käytössä enemmän koneen resursseja kuin virtuaalikoneella...</p>
                    <figure><img src="5_3_not_enough_allocable cpu.png"></figure>
                    <p>Suomi-salasanalistan avulla onnistui ratkaista 6 salasanaa: kisuli, muumipeikko, timppa, SyncMasteR, 2k2k2k2k ja 2battlefield2. Viimeisin jäi ratkaisematta.</p>
                    <figure><img src="5_3_suomiSalasanoja_ratkaistu_6.png"></figure>
                </li>
                <li>
                    <h3>Loppujen murtaminen raakaa laskentaa käyttäen</h3>
                    <p>Aloitettu ja jaksettu pyörittää päivä, mutta luovutettu, kun jo pari päivää rullattu ja tässä vaiheessa 9/15 arvioitu aika oli la 25.5. ja senkin jälkeen vasta siirtynyt taas seuraavaan vaiheeseen 10/15, päätin luovuttaa. En jaksa viikkoa pitää konetta pyörimässä.. Eli luovutettu ja salasana jäi murtamatta. Pitää hankkia kone, jossa on paremmat tehot...</p>
                    <figure><img src="5_3_suomi_not_solved1.png"><img src="5_3_suomi_not_solved2.png"></figure>
                </li>
                <li>
                    <h3>Sateenkaaritaulut</h3>
                    <p>Kun aloitin murtamisen, niin jostain syystä herjasi: <i>INFO: Removed 4 hashes found as potfile entries or as empty hashes.</i> En tiedä, olinko jotenkin tallentanut tiedostoon väärin...</p>
                    <figure><img src="5_3_start_crack.png"><img src="5_3_first_crack.png"></figure>
                    <p>Ilmeisesi jokin aikaisempi kokeilu oli ehkä ratkaissut nämä, sillä kun päätin vaihtaa linux-distroa uutta kokeilua varten, niin herjaa ei tullut.</p>
                    <p>Ehkä koska tein monivalintatentin ennen tätä tehtävää, ja vaikuttaa, että muutama sanasana oli tuttu siitä, niin se vaikutti tuohon, että aiemmin herjasi...</p>
                    <p>Eli sateenkaaritaulun avulla sain purettua 4/7 (1234567890, monkey, password1. SecRet)</p>
                    <figure><img src="5_3_cracks_solved_4.png"></figure>
                </li>
                <li>
                    <h3>Murtaminen itse SHA-1</h3>
                    <p>Minulla on huono fiilis, etten tule saamaan ratkaistua kolmea viimeistä hashia raakaa voimaa käyttäen, kun oman koneen tehot ovat heikot... Mutta kokeillaan</p>
                    <figure><img src="5_3_crack_unsolved1.png"></figure>
                    <figure><img src="#"></figure>
                    <figure><img src="#"></figure>
                </li>

            </ol>
        </article>

        
    </main>
    
</body>
</html>